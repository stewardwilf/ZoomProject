{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/wst15/Documents/websdk-react-app/src/components/Participant.js\",\n    _s = $RefreshSig$();\n\nimport \"./participant.css\";\nimport { Icon, Form } from 'semantic-ui-react';\nimport { muteIndiv } from './Zoom';\nimport { accessParticipants } from './Zoom';\nimport { selected as selectedp } from '../data/selected';\nimport { useRecoilState } from 'recoil';\nimport { liveParticipants } from \"../data/liveParticipants\";\nexport const Participant = ({\n  idx,\n  id,\n  originalName,\n  muted,\n  isHost,\n  editMode,\n  newName,\n  setNewName,\n  saveNewName,\n  cf,\n  selectedAll\n}) => {\n  _s();\n\n  var _accessParticipants;\n\n  const [selected, setSelected] = useRecoilState(selectedp);\n  const [liveP, setLiveP] = useRecoilState(liveParticipants);\n\n  function simulateMouseover(index) {\n    //const num = index+1        \n    const event = new MouseEvent('mouseover', {\n      view: window,\n      bubbles: true,\n      cancelable: true\n    });\n    const cb = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\" + index + \") > div > div > span\");\n    const cancelled = !cb.dispatchEvent(event);\n\n    if (cancelled) {\n      // A handler called preventDefault.\n      alert(\"cancelled\");\n    } else {// None of the handlers called preventDefault.\n    }\n  }\n\n  const handlePin = id => {\n    //is this in selected?\n    //if yes:\n    //*******DONE*******remove from selected \n    //calculate relevant number = ???\n    //unpin relevant number from middle canvas\n    //if no:\n    //*******DONE*******add to selected\n    //calculate relevant number = liveParticipants minus selected IDs\n    //pin relevant number from top canvas\n    if (selected.includes(id)) {\n      setSelected([...selected.filter(item => item !== id)]);\n      console.log('id has been selected before');\n    }\n\n    if (!selected.includes(id)) {\n      setSelected([...selected, id]);\n      console.log('id has NOT been selected before');\n      let intersection = liveP.filter(x => selectedAll.includes(x));\n      console.log('not selected', intersection);\n    }\n\n    const ap = accessParticipants(); //console.log('aplen',ap.length,'index',index, 'selectedlen',selected.length)\n    // const num = ap.length + 1 - index \n    // simulateMouseover(num)\n    // let pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\"+num+\") > div > div:nth-child(3) > div > div > ul > li:nth-child(5) > a\")\n    // pinButton.click()        \n  }; // const unpin = (index, id) => {\n  //     setSelected([...selected.filter(item => item !== id)])\n  //     const ap = accessParticipants()\n  //     const num = ap?.length + 1 - index\n  //     simulateMouseover(num)\n  //     let pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\"+num+\") > div > div:nth-child(3) > div > div > ul > li:nth-child(5) > a\")\n  //     pinButton.click()\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"participant\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left\",\n      children: editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 32\n          }, this), \" \", originalName, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: () => saveNewName(),\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n              placeholder: originalName,\n              value: newName,\n              onChange: e => setNewName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Form.Button, {\n              content: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 45\n        }, this), \" \", originalName, \" ap: \", (_accessParticipants = accessParticipants()) === null || _accessParticipants === void 0 ? void 0 : _accessParticipants.length, \" index : \", idx, \" sel: \", selected.length, \" \", accessParticipants().length - idx - selected.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right\",\n      children: [isHost ? /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Host\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 32\n      }, this) : 'Guest', /*#__PURE__*/_jsxDEV(Icon, {\n        name: muted ? 'mute' : 'unmute',\n        color: muted ? 'red' : 'green',\n        onClick: () => muteIndiv(id, muted ? false : true),\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), cf && accessParticipants().length > 2 ? /*#__PURE__*/_jsxDEV(Icon, {\n        name: 'map pin',\n        onClick: () => handlePin(id),\n        size: \"large\",\n        color: selected.find(x => x === id) ? 'red' : 'green'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Participant, \"xXgz1bnUbfQYgoy7l8stntp1StQ=\", false, function () {\n  return [useRecoilState, useRecoilState];\n});\n\n_c = Participant;\n\nvar _c;\n\n$RefreshReg$(_c, \"Participant\");","map":{"version":3,"sources":["/Users/wst15/Documents/websdk-react-app/src/components/Participant.js"],"names":["Icon","Form","muteIndiv","accessParticipants","selected","selectedp","useRecoilState","liveParticipants","Participant","idx","id","originalName","muted","isHost","editMode","newName","setNewName","saveNewName","cf","selectedAll","setSelected","liveP","setLiveP","simulateMouseover","index","event","MouseEvent","view","window","bubbles","cancelable","cb","document","querySelector","cancelled","dispatchEvent","alert","handlePin","includes","filter","item","console","log","intersection","x","ap","e","target","value","length","find"],"mappings":"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","sourcesContent":["import \"./participant.css\";\nimport { Icon, Form } from 'semantic-ui-react'\nimport { muteIndiv } from './Zoom'\nimport { accessParticipants } from './Zoom'\nimport { selected as selectedp } from '../data/selected'\nimport { useRecoilState } from 'recoil'\nimport { liveParticipants } from \"../data/liveParticipants\";\n\nexport const Participant = ({ idx, id, originalName, muted, isHost, editMode, newName, setNewName, saveNewName, cf, selectedAll }) => {\n    const [selected, setSelected] = useRecoilState(selectedp);\n    const [liveP, setLiveP] = useRecoilState(liveParticipants);\n    \n\n    function simulateMouseover(index) {\n        //const num = index+1        \n        const event = new MouseEvent('mouseover', {\n            view: window,\n            bubbles: true,\n            cancelable: true\n        });\n        const cb = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\" + index + \") > div > div > span\")\n        const cancelled = !cb.dispatchEvent(event);\n\n        if (cancelled) {\n            // A handler called preventDefault.\n            alert(\"cancelled\");\n        } else {\n            // None of the handlers called preventDefault.\n        }\n    }\n\n    const handlePin = (id) => {\n        //is this in selected?\n            //if yes:\n                //*******DONE*******remove from selected \n                //calculate relevant number = ???\n                //unpin relevant number from middle canvas\n                \n            //if no:\n                //*******DONE*******add to selected\n                //calculate relevant number = liveParticipants minus selected IDs\n                //pin relevant number from top canvas\n                \n\n        if (selected.includes(id)){\n            setSelected([...selected.filter(item => item !== id)])\n            console.log('id has been selected before')\n        }\n        if (!selected.includes(id)){\n            setSelected([...selected, id])\n            console.log('id has NOT been selected before')\n            let intersection = liveP.filter(x => selectedAll.includes(x));\n\n            console.log('not selected',intersection)\n\n        }\n        \n        const ap = accessParticipants()\n        //console.log('aplen',ap.length,'index',index, 'selectedlen',selected.length)\n\n        // const num = ap.length + 1 - index \n        // simulateMouseover(num)\n        // let pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\"+num+\") > div > div:nth-child(3) > div > div > ul > li:nth-child(5) > a\")\n        // pinButton.click()        \n    }\n\n    // const unpin = (index, id) => {\n    //     setSelected([...selected.filter(item => item !== id)])\n    //     const ap = accessParticipants()\n    //     const num = ap?.length + 1 - index\n    //     simulateMouseover(num)\n    //     let pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\"+num+\") > div > div:nth-child(3) > div > div > ul > li:nth-child(5) > a\")\n    //     pinButton.click()\n    // }\n\n    return (\n        <div className='participant'>\n            <div className='left'>\n                {\n                    (editMode) ?\n                        <div className='edit-form'>\n\n                            <p><b>Name: </b> {originalName} </p>\n\n                            <Form onSubmit={() => saveNewName()}>\n                                <Form.Group>\n                                    <Form.Input\n                                        placeholder={originalName}\n                                        value={newName}\n                                        onChange={(e) => setNewName(e.target.value)}\n                                    />\n                                    <Form.Button content='Submit' />\n                                </Form.Group>\n                            </Form>\n                        </div>\n                        :\n                        <p className='name'><b>Name: </b> {originalName} ap: {accessParticipants()?.length} index : {idx} sel: {selected.length} {accessParticipants().length - idx - selected.length}</p>\n\n                }\n            </div>\n            <div className='right'>\n                {\n                    (isHost) ? <b>Host</b> : 'Guest'\n                }\n                <Icon\n                    name={muted ? 'mute' : 'unmute'}\n                    color={muted ? 'red' : 'green'}\n                    onClick={() => muteIndiv(id, muted ? false : true)}\n                    size='large'\n                ></Icon>\n\n                {\n                    cf && accessParticipants().length > 2 ?\n                        <Icon\n                            name={'map pin'}\n                            onClick={() => handlePin(id)}\n                            size='large'\n                            color={selected.find(x => x === id) ? 'red' : 'green'}\n                        ></Icon>\n                        : ''\n                }\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}