{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/wst15/Documents/websdk-react-app/src/components/Participant.js\",\n    _s = $RefreshSig$();\n\n//libraries/css\nimport \"./participant.css\";\nimport { Icon, Form } from 'semantic-ui-react';\nimport { useRecoilState } from 'recoil'; //shared states\n\nimport { selectedIds } from '../data/selectedIds'; //Array of IDs for pinned participants\n\nimport { liveParticipants } from \"../data/liveParticipants\"; //Array of all participants, never filtered\n\nimport { selectedParticipants } from '../data/selectedParticipants'; //Array of pinned participant objs\n//components/ functions\n\nimport { muteIndiv, accessParticipants } from './Zoom';\nexport const Participant = ({\n  idx,\n  id,\n  originalName,\n  muted,\n  isHost,\n  editMode,\n  newName,\n  setNewName,\n  saveNewName,\n  cf\n}) => {\n  _s();\n\n  const [selected, setSelected] = useRecoilState(selectedIds);\n  const [liveP] = useRecoilState(liveParticipants);\n  const [selectedAllState] = useRecoilState(selectedParticipants);\n\n  function simulateMouseover(index) {\n    //const num = index+1        \n    const event = new MouseEvent('mouseover', {\n      view: window,\n      bubbles: true,\n      cancelable: true\n    });\n    const cb = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\" + index + \") > div > div > span\");\n    const cancelled = !cb.dispatchEvent(event);\n\n    if (cancelled) {\n      // A handler called preventDefault.\n      alert(\"cancelled\");\n    } else {// None of the handlers called preventDefault.\n    }\n  } // first document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(2) > div\")\n  // second document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(3) > div\")\n\n\n  function simulateMouseoverUnpin(bool, idx) {\n    const event = new MouseEvent('mouseover', {\n      view: window,\n      bubbles: true,\n      cancelable: true\n    });\n    let cb;\n\n    if (bool) {\n      //if there are non-pinned elements       \n      cb = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(\" + idx + \") > div\"); //document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div > div\")\n      // document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(1) > div\")\n      //document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(2) > div\")\n    }\n\n    if (!bool) {\n      //if there are no non-pinned elements\n      cb = document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(\" + idx + \") > div\");\n    }\n\n    console.log('cb', cb);\n    const cancelled = !cb.dispatchEvent(event);\n\n    if (cancelled) {\n      // A handler called preventDefault.\n      alert(\"cancelled\");\n    } else {// None of the handlers called preventDefault.\n    }\n  }\n\n  const handlePin = (id, idx) => {\n    if (selected.includes(id)) {\n      //if id is currently pinned\n      setSelected([...selected.filter(item => item !== id)]); //update selectedids\n\n      let pinButton;\n\n      if (selected.length > 1) {\n        // if there are more than one participant pinned\n        let bool = liveP.length - selected.length > 0 ? true : false;\n        let newidx;\n\n        if (bool) {\n          //if there are non-pinned elements   \n          let allIds = liveP.map(each => each.userId); //all ids for all participants\n\n          const selectedOrdered = allIds.filter(value => selected.includes(value)); // all ids that have been selected in the correct index order\n\n          newidx = selectedOrdered.findIndex(element => element === id) + 1; // index of the current id in ids that have been selected, in order\n\n          simulateMouseoverUnpin(bool, newidx);\n          pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(\" + newidx + \") > div > div:nth-child(4) > div > div > ul > li:nth-child(5) > a\");\n        }\n\n        if (!bool) {\n          //if there are no non-pinned elements\n          newidx = idx + 2;\n          simulateMouseoverUnpin(bool, newidx);\n          pinButton = document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(\" + newidx + \") > div > div:nth-child(4) > div > div > ul > li:nth-child(5) > a\");\n        }\n      } else {\n        //if there is only one pinned participant\n        //unpin the only one pinned participant\n        pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div > div > div.video-avatar__group > button\");\n      }\n\n      console.log('pinbutton', pinButton);\n      pinButton.click(); //issues with the \n    }\n\n    if (!selected.includes(id)) {\n      //if id is not pinned\n      setSelected([...selected, id]);\n      let notSelected = liveP.filter(x => !selectedAllState.includes(x));\n      let removalIndex = notSelected.findIndex(each => each.userId === id);\n      let finalIndex = notSelected.length - removalIndex;\n      simulateMouseover(finalIndex);\n      let pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\" + finalIndex + \") > div > div:nth-child(3) > div > div > ul > li:nth-child(5) > a\");\n      pinButton.click();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"participant\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left\",\n      children: editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 32\n          }, this), \" \", originalName, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: () => saveNewName(),\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n              placeholder: originalName,\n              value: newName,\n              onChange: e => setNewName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Form.Button, {\n              content: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 45\n        }, this), \" \", originalName, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right\",\n      children: [isHost ? /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Host\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 32\n      }, this) : 'Guest', /*#__PURE__*/_jsxDEV(Icon, {\n        name: muted ? 'mute' : 'unmute',\n        color: muted ? 'red' : 'green',\n        onClick: () => muteIndiv(id, muted ? false : true),\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), cf && accessParticipants().length > 2 ? /*#__PURE__*/_jsxDEV(Icon, {\n        name: 'map pin',\n        onClick: () => handlePin(id, idx),\n        size: \"large\",\n        color: selected.find(x => x === id) ? 'red' : 'green'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Participant, \"5Eapr6Ikg8n8g4Rt/CKqsO/s6ro=\", false, function () {\n  return [useRecoilState, useRecoilState, useRecoilState];\n});\n\n_c = Participant;\n\nvar _c;\n\n$RefreshReg$(_c, \"Participant\");","map":{"version":3,"sources":["/Users/wst15/Documents/websdk-react-app/src/components/Participant.js"],"names":["Icon","Form","useRecoilState","selectedIds","liveParticipants","selectedParticipants","muteIndiv","accessParticipants","Participant","idx","id","originalName","muted","isHost","editMode","newName","setNewName","saveNewName","cf","selected","setSelected","liveP","selectedAllState","simulateMouseover","index","event","MouseEvent","view","window","bubbles","cancelable","cb","document","querySelector","cancelled","dispatchEvent","alert","simulateMouseoverUnpin","bool","console","log","handlePin","includes","filter","item","pinButton","length","newidx","allIds","map","each","userId","selectedOrdered","value","findIndex","element","click","notSelected","x","removalIndex","finalIndex","e","target","find"],"mappings":"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","sourcesContent":["//libraries/css\nimport \"./participant.css\";\nimport { Icon, Form } from 'semantic-ui-react';\nimport { useRecoilState } from 'recoil';\n\n//shared states\nimport { selectedIds } from '../data/selectedIds'; //Array of IDs for pinned participants\nimport { liveParticipants } from \"../data/liveParticipants\"; //Array of all participants, never filtered\nimport { selectedParticipants } from '../data/selectedParticipants'; //Array of pinned participant objs\n\n//components/ functions\nimport { muteIndiv, accessParticipants } from './Zoom';\n\nexport const Participant = ({ idx, id, originalName, muted, isHost, editMode, newName, setNewName, saveNewName, cf }) => {\n    const [selected, setSelected] = useRecoilState(selectedIds);\n    const [liveP,] = useRecoilState(liveParticipants);\n    const [selectedAllState,] = useRecoilState(selectedParticipants);\n\n\n    function simulateMouseover(index) {\n        //const num = index+1        \n        const event = new MouseEvent('mouseover', {\n            view: window,\n            bubbles: true,\n            cancelable: true\n        });\n        const cb = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\" + index + \") > div > div > span\")\n        const cancelled = !cb.dispatchEvent(event);\n\n        if (cancelled) {\n            // A handler called preventDefault.\n            alert(\"cancelled\");\n        } else {\n            // None of the handlers called preventDefault.\n        }\n    }\n    // first document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(2) > div\")\n    // second document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(3) > div\")\n    \n    function simulateMouseoverUnpin(bool,idx) {\n\n        const event = new MouseEvent('mouseover', {\n            view: window,\n            bubbles: true,\n            cancelable: true\n        });\n        let cb\n        if (bool) {\n            //if there are non-pinned elements       \n              \n            cb = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(\"+idx+\") > div\")\n            //document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div > div\")\n           // document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(1) > div\")\n            //document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(2) > div\")\n        }                               \n        if (!bool) {\n            //if there are no non-pinned elements\n            cb = document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(\"+idx+\") > div\")\n        }\n\n\n        console.log('cb', cb)\n        const cancelled = !cb.dispatchEvent(event);\n\n        if (cancelled) {\n            // A handler called preventDefault.\n            alert(\"cancelled\");\n        } else {\n            // None of the handlers called preventDefault.\n        }\n\n\n\n    }\n\n    const handlePin = (id, idx) => {\n\n        if (selected.includes(id)) { //if id is currently pinned\n\n            setSelected([...selected.filter(item => item !== id)]); //update selectedids\n            let pinButton\n          \n            if (selected.length > 1) {// if there are more than one participant pinned\n                let bool = (liveP.length - selected.length) > 0 ? true : false\n                let newidx\n\n                if (bool){   \n                    //if there are non-pinned elements   \n\n                    let allIds = liveP.map(each=> each.userId) //all ids for all participants\n                    const selectedOrdered = allIds.filter(value => selected.includes(value)); // all ids that have been selected in the correct index order\n                    newidx = selectedOrdered.findIndex((element) => element === id)+1 // index of the current id in ids that have been selected, in order\n                    simulateMouseoverUnpin(bool,newidx)\n                    pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div:nth-child(\"+newidx+\") > div > div:nth-child(4) > div > div > ul > li:nth-child(5) > a\")\n                }\n                if (!bool){\n                    //if there are no non-pinned elements\n                    newidx = idx+2\n                    simulateMouseoverUnpin(bool,newidx)\n                    pinButton = document.querySelector(\"#wc-container-left > div.main-layout > div > div > div > div:nth-child(\"+newidx+\") > div > div:nth-child(4) > div > div > ul > li:nth-child(5) > a\")\n                }\n            }\n            else { //if there is only one pinned participant\n                //unpin the only one pinned participant\n                pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div:nth-child(3) > div > div > div > div.video-avatar__group > button\")\n            }\n            console.log('pinbutton',pinButton)\n            pinButton.click() //issues with the \n        }\n        if (!selected.includes(id)) { //if id is not pinned\n            setSelected([...selected, id])\n\n            let notSelected = liveP.filter(x => !selectedAllState.includes(x));\n            let removalIndex = (notSelected.findIndex(each => each.userId === id))\n            let finalIndex = notSelected.length - removalIndex\n  \n\n            simulateMouseover(finalIndex)\n            let pinButton = document.querySelector(\"#wc-container-left > div:nth-child(3) > div > div.speaker-bar-container__horizontal-view-wrap > div:nth-child(\" + finalIndex + \") > div > div:nth-child(3) > div > div > ul > li:nth-child(5) > a\")\n            pinButton.click()\n        }\n      \n    }\n\n \n\n    return (\n        <div className='participant'>\n            <div className='left'>\n                {\n                    (editMode) ?\n                        <div className='edit-form'>\n\n                            <p><b>Name: </b> {originalName} </p>\n\n                            <Form onSubmit={() => saveNewName()}>\n                                <Form.Group>\n                                    <Form.Input\n                                        placeholder={originalName}\n                                        value={newName}\n                                        onChange={(e) => setNewName(e.target.value)}\n                                    />\n                                    <Form.Button content='Submit' />\n                                </Form.Group>\n                            </Form>\n                        </div>\n                        :\n                        <p className='name'><b>Name: </b> {originalName} </p>\n\n                }\n            </div>\n            <div className='right'>\n                {\n                    (isHost) ? <b>Host</b> : 'Guest'\n                }\n                <Icon\n                    name={muted ? 'mute' : 'unmute'}\n                    color={muted ? 'red' : 'green'}\n                    onClick={() => muteIndiv(id, muted ? false : true)}\n                    size='large'\n                ></Icon>\n\n                {\n                    cf && accessParticipants().length > 2 ?\n                        <Icon\n                            name={'map pin'}\n                            onClick={() => handlePin(id, idx)}\n                            size='large'\n                            color={selected.find(x => x === id) ? 'red' : 'green'}\n                        ></Icon>\n                        : ''\n                }\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}